<com-form (ngSubmit)="onSubmit()">
  <com-form-section partly formTitle="Seleção de Pessoas" step="2">
    <com-label comTooltipSize="1.4">Pessoas*</com-label>
    <div *ngFor="let control of form.controls; let i = index">
      <app-autocomplete-pessoas
        (removePerson)="removeFormItem(i)"
        [formControl]="control.get('pessoaId')"
        label="Filtrar por nome, CPF ou SARAM"
      ></app-autocomplete-pessoas>
    </div>
    <button
      (click)="addFormItem()"
      class="add-plan flex-container middle center"
    >
      <com-icon>add</com-icon> Adicionar outra pessoa
    </button>
  </com-form-section>
  <com-form-section block>
    <footer class="flex-container end">
      <com-button (click)="back.emit()">
        <ng-container slot="text">voltar</ng-container>
      </com-button>
      <com-button (click)="next.emit()" [disabled]="form.invalid" fill confirm>
        <ng-container slot="text">confirmar e gravar conclusão</ng-container>
      </com-button>
    </footer>
  </com-form-section>
</com-form>
